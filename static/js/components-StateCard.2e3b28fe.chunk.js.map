{"version":3,"file":"static/js/components-StateCard.2e3b28fe.chunk.js","mappings":"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","sources":["components/StateCard/StatsCard/index.js","components/StateCard/index.js","hooks/useClickOnOutSide.js","hooks/useLocalStorage.js","webpack://covid-tracker/./src/components/StateCard/StateCard.module.scss?9f7f","webpack://covid-tracker/./src/components/StateCard/StatsCard/StatsCard.module.scss?e19f"],"sourcesContent":["import React from \"react\";\r\n\r\nimport styles from \"./StatsCard.module.scss\";\r\n\r\nexport const StatsCard = ({ title, count }) => {\r\n  let { confirmed = 0, deceased = 0, recovered = 0 } = count;\r\n  return (\r\n    <div className={styles.stats_detail}>\r\n      <div>\r\n        <b>{title}</b>\r\n      </div>\r\n      <div className={styles.stats_count_wrapper}>\r\n        <div className={styles.stats_count}>\r\n          <span>Confirmed</span>\r\n          <span>:</span>\r\n          <span>{confirmed ?? 0}</span>\r\n        </div>\r\n        <div className={styles.stats_count}>\r\n          <span>Recovered</span>\r\n          <span>:</span>\r\n          <span>{recovered ?? 0}</span>\r\n        </div>\r\n        <div className={styles.stats_count}>\r\n          <span>Deceased</span>\r\n          <span>:</span>\r\n          <span>{deceased ?? 0}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useRef, useEffect, useMemo } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useLocalStorage } from \"hooks\";\r\n\r\nimport styles from \"./StateCard.module.scss\";\r\nimport { StatsCard } from \"./StatsCard\";\r\n\r\nexport const StateCard = ({\r\n  state,\r\n  districts,\r\n  districtOptions,\r\n  stateTotal,\r\n  stateDelta,\r\n  stateDelta7,\r\n}) => {\r\n  const { getItem, setItem } = useLocalStorage();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const cardRef = useRef();\r\n\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n  let [value, setValue] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let dropDown = getItem(\"dropdown\");\r\n    if (dropDown) {\r\n      let dropDownValue = dropDown.find((list) => {\r\n        return list.state === state;\r\n      });\r\n      if (dropDownValue) {\r\n        setValue(dropDownValue.value);\r\n      }\r\n    }\r\n  }, [state]);\r\n\r\n  const handleDropDown = ({ target: { value } }) => {\r\n    let dropDown = getItem(\"dropdown\");\r\n    if (dropDown) {\r\n      let isExist = dropDown.find((list) => {\r\n        return list.state === state;\r\n      });\r\n      if (isExist) {\r\n        let index = dropDown.findIndex((list) => {\r\n          return list.state === state;\r\n        });\r\n        dropDown[index].value = value;\r\n      } else {\r\n        dropDown.push({ state, value });\r\n      }\r\n      setItem({ key: \"dropdown\", value: dropDown });\r\n    } else {\r\n      let arr = [];\r\n      arr.push({ state, value });\r\n      setItem({ key: \"dropdown\", value: arr });\r\n    }\r\n    setValue(value);\r\n  };\r\n\r\n  const handleSlide = (isNext) => {\r\n    cardRef.current?.children[\r\n      isNext ? activeIndex + 1 : activeIndex - 1\r\n    ].scrollIntoView({\r\n      behavior: \"smooth\",\r\n      block: \"nearest\",\r\n      inline: \"center\",\r\n    });\r\n    setActiveIndex(isNext ? activeIndex + 1 : activeIndex - 1);\r\n  };\r\n\r\n  const isDistrict = useMemo(() => {\r\n    let dropDown = getItem(\"dropdown\");\r\n    if (dropDown) {\r\n      let dropDownValue = dropDown.find((list) => {\r\n        return list.state === state;\r\n      });\r\n      return dropDownValue ? true : false;\r\n    }\r\n  }, [state, value]);\r\n\r\n  return (\r\n    <div\r\n      className={styles.state_card}\r\n      onClick={() => navigate(`/covid/state/${state}`)}\r\n    >\r\n      <div className={styles.card_head}>\r\n        <b>{state}</b>\r\n        {districtOptions.length > 0 && (\r\n          <select\r\n            value={value}\r\n            onChange={handleDropDown}\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <option value=\"\" disabled>\r\n              Select District\r\n            </option>\r\n            {districtOptions.map((list, index) => {\r\n              return (\r\n                <option key={index} value={list}>\r\n                  {list}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        )}\r\n      </div>\r\n      <div className={styles.stats_container}>\r\n        <div\r\n          className={styles.prev_arrow}\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            handleSlide(false);\r\n          }}\r\n          aria-hidden={activeIndex === 0 ? true : false}\r\n        >\r\n          <i className=\"fas fa-chevron-left\"></i>\r\n        </div>\r\n        <div ref={cardRef} className={styles.stats_wrapper}>\r\n          <StatsCard\r\n            title=\"Total\"\r\n            count={isDistrict ? districts[value]?.total ?? {} : stateTotal}\r\n          />\r\n          <StatsCard\r\n            title=\"Delta\"\r\n            count={isDistrict ? districts[value]?.delta ?? {} : stateDelta}\r\n          />\r\n          <StatsCard\r\n            title=\"Delta7\"\r\n            count={isDistrict ? districts[value]?.delta7 ?? {} : stateDelta7}\r\n          />\r\n        </div>\r\n        <div\r\n          className={styles.next_arrow}\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            handleSlide(true);\r\n          }}\r\n          aria-hidden={activeIndex === 2 ? true : false}\r\n        >\r\n          <i className=\"fas fa-chevron-right\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\n\r\nexport const useOnClickOutSide = (ref, handler) => {\r\n  useEffect(() => {\r\n    document.addEventListener(\"touchstart\", handleClickOutSide);\r\n    document.addEventListener(\"mousedown\", handleClickOutSide);\r\n    return () => {\r\n      document.removeEventListener(\"touchstart\", handleClickOutSide);\r\n      document.removeEventListener(\"mousedown\", handleClickOutSide);\r\n    };\r\n  }, []);\r\n\r\n  const handleClickOutSide = (event) => {\r\n    const { target } = event;\r\n    if (ref.current && !ref.current.contains(target)) {\r\n      handler();\r\n    }\r\n  };\r\n};\r\n","export const useLocalStorage = () => {\n  const getValue = (key) => {\n    return JSON.parse(localStorage.getItem(key));\n  };\n\n  const setValue = ({ key = \"\", value = \"\" }) => {\n    localStorage.setItem(key, JSON.stringify(value));\n  };\n\n  const remove = (key) => {\n    localStorage.removeItem(key);\n  };\n\n  const reset = () => {\n    localStorage.clear();\n  };\n\n  return {\n    getItem: getValue,\n    setItem: setValue,\n    removeItem: remove,\n    reset: reset,\n  };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"state_card\":\"StateCard_state_card__0ZzD-\",\"card_head\":\"StateCard_card_head__AUl3G\",\"stats_container\":\"StateCard_stats_container__M4ORF\",\"prev_arrow\":\"StateCard_prev_arrow__tqonT\",\"next_arrow\":\"StateCard_next_arrow__S6RIu\",\"stats_wrapper\":\"StateCard_stats_wrapper__zrNJ7\"};","// extracted by mini-css-extract-plugin\nexport default {\"stats_detail\":\"StatsCard_stats_detail__v-0q0\",\"stats_count_wrapper\":\"StatsCard_stats_count_wrapper__rD+z8\",\"stats_count\":\"StatsCard_stats_count__WShfc\"};"],"names":["StatsCard","title","count","confirmed","deceased","recovered","className","styles","StateCard","state","districts","districtOptions","stateTotal","stateDelta","stateDelta7","useLocalStorage","getItem","setItem","navigate","useNavigate","cardRef","useRef","useState","activeIndex","setActiveIndex","value","setValue","useEffect","dropDown","dropDownValue","find","list","handleSlide","isNext","current","children","scrollIntoView","behavior","block","inline","isDistrict","useMemo","onClick","length","onChange","target","index","findIndex","push","key","arr","e","stopPropagation","disabled","map","ref","total","delta","delta7","useOnClickOutSide","handler","document","addEventListener","handleClickOutSide","removeEventListener","event","contains","JSON","parse","localStorage","stringify","removeItem","reset","clear"],"sourceRoot":""}